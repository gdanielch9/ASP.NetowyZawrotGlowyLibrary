@model IEnumerable<Library.Models.Book>
@using Microsoft.AspNet.Identity

@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>

<p>
    @Html.Action("Create")
</p>
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Title)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.IsBorrowed)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Genre)
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Title)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.IsBorrowed)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Genre.Name)
        </td>
        <td>
            @Html.ActionLink("Details", "Details", new { id=item.Id }) |
            @Html.ActionLink("Delete", "Delete", new { id=item.Id }) |
            @Html.ActionLink("Status", "Status", new { id = item.Id }) 
            @if (User.Identity.IsAuthenticated)
            {
                if (item.IsBorrowed && User.Identity.GetUserId() == item.UserId)
                {
                    <text> | </text>
                    @Html.ActionLink("Return", "Return", new { id = item.Id })
                }
                else if (!item.IsBorrowed)
                {
                    <text> | </text>
                    @Html.ActionLink("Borrow", "Borrow", new { id = item.Id })
                }
            }
        </td>
    </tr>
}

</table>

Click to check actual time
<input type="submit" value="Button" id="ButtonID" class="btn btn-default" />
<p id="rData">
    I am waiting for click...
</p>

@section scripts
{
<script type="text/jscript">
    function Success(result) {
        $("form")[0].reset();                                       // pro forma
        $("#userMessage").html(result + " was created properly");   // pro forma
        setTimeout(function () {
            $("#createModal").modal('hide').fadeIn('fast');
            $("#userMessage").html(result + " was created properly").fadeOut('fast');
        }, 1000);
        ;
        //alert(result + " was created properly"); // message in window
    }
    function Failure() {
        $("#userMessage").html("Occured some mistake...");
        setTimeout(function () {
            $('#userMessage').fadeOut('fast');
        }, 1000);
    }
    $('#ButtonID').click(function () {
        var url = "Books/TellMeDate";
        $.get(url, null, function (data) {
            $("#rData").html(data);
        });
    })
</script>
}
